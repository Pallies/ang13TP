<!-- TITRE -->
<a class="h5">
  <button class="btn btn-sm btn-outline-primary m-3 p-2"
  routerLink="/menu" routerLinkActive="router-link-active" >
    <i class="bi bi-backspace"></i> Retour
  </button>
</a>
<h1 class="text-center">Gestion des utilisateurs</h1>
<div class="container-fluid mt-4">
  <!-- FILTRE -->
  <div class="row">
    <div class="col"></div>
  </div>
  <!-- TABLEAU -->
  <div class="row w-75 m-auto">
    <div class="col">
      <table
        class="table table-striped table-responsive text-center"
        cellspacing="0"
        width="100%"
      >
        <thead>
          <tr class="table-secondary">
            <td scope="col">Nom</td>
            <td scope="col">PrÃ©nom</td>
            <td scope="col">Email</td>
            <td scope="col">Profil</td>
            <td scope="col">Actions</td>
          </tr>
        </thead>
        <tbody class="scrollbar">
          <tr *ngFor="let utilisateur of utilisateurs; let i = index">
            <td>{{ utilisateur.nom }}</td>
            <td>{{ utilisateur.prenom }}</td>
            <td>{{ utilisateur.email }}</td>
            <td>{{ utilisateur.profil | profil }}</td>
            <td>
              <button class="btn btn-lg btn-outline-primary me-3"
              data-bs-toggle="modal"
                data-bs-target="#utilisateurModal"
                (click)="utilisateurChoisi(utilisateur);modal.titre=modalHeader[1].label"
              >
                <i class="bi bi-pencil"></i>
              </button>
              <button class="btn btn-lg btn-outline-danger"
              data-bs-toggle="modal"
              data-bs-target="#utilisateurModal"
              (click)="utilisateurChoisi(utilisateur);modal.titre=modalHeader[2].label"
              >
                <i class="bi bi-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <td colspan="7">
            <div class="w-50 d-flex justify-content-around m-auto mt-4">
              <button
              type="button"
                class="btn btn-lg btn-success px-5"
                data-bs-toggle="modal"
                data-bs-target="#utilisateurModal"
                (click)="refresh();modal.titre=modalHeader[0].label"
                >
                Ajouter un Utilisateur
              </button>
            </div>
          </td>
        </tfoot>
      </table>
    </div>
  </div>
</div>
<car-utilisateur-forms #modal ref="utilisateurModal" (updateUtilisateur)="refresh()"></car-utilisateur-forms>

