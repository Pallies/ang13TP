<!-- TITRE -->
<a class="h5">
  <button class="btn btn-sm btn-outline-primary m-3 p-2" (click)="onBack()">
    <i class="bi bi-backspace"></i> Retour
  </button>
</a>
<h1 class="text-center">Création d'un devis: Vente de véhicule</h1>
<div class="container-fluid mt-4">
  <!-- FILTRE -->
  <div class="row">
    <div class="col"></div>
  </div>
  <!-- TABLEAU -->
  <div class="row w-75 m-auto">
    <div class="col">
      <table
        class="table table-striped table-responsive text-center"
        cellspacing="0"
        width="100%"
      >
        <thead>
          <tr class="table-secondary">
            <td scope="col">Photo</td>
            <td scope="col">Marque Modèle</td>
            <td scope="col">Prix HT</td>
            <td scope="col">Année</td>
            <td scope="col">Couleur</td>
            <td scope="col">Quantité</td>
            <td scope="col">Ajouter</td>
          </tr>
        </thead>
        <tbody class="scrollbar">
          <tr *ngFor="let vehicule of vehicules; let i = index">
            <td>
              <img
                [src]="'./assets/images/car/' + vehicule.photo"
                [alt]="vehicule.marque + ' ' + vehicule.modele"
              />
            </td>
            <td>{{ vehicule.marque }} {{ vehicule.modele }}</td>
            <td>{{ vehicule.prixHT }} €</td>
            <td>{{ vehicule.annee }}</td>
            <td>
              <car-couleur
                (selection)="vehicule.couleur = $event"
              ></car-couleur>
            </td>

            <td>
              <car-quantite
                *ngIf="vehicule.quantite > 0"
                [max]="vehicule.quantite"
                (selection)="vehicule.quantiteVendu = $event"
                [raz]="maj$"
              ></car-quantite>
            </td>
            <td>
              <button
                class="btn btn-lg btn-outline-success"
                (click)="ajouter(vehicule)"
              >
                <i class="bi bi-plus-circle"></i>
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <td colspan="6">
            <div class="w-50 d-flex justify-content-around m-auto mt-4">
              <button
                class="btn btn-lg btn-success px-5"
                routerLink="/devis/recap"
              >
                Récapitulatif
              </button>
              <button class="btn btn-lg btn-danger px-5" (click)="onBack()">
                Annuler
              </button>
            </div>
          </td>
        </tfoot>
      </table>
    </div>
  </div>
</div>
